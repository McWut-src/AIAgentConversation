@page
@model IndexModel
@{
    ViewData["Title"] = "AI Agent Conversation";
}

<div class="container">
    <div class="header-container">
        <h1>AI Agent Conversation</h1>
        <div class="header-buttons">
            <button id="random-button" class="random-button" title="Randomize all inputs">🎲</button>
            <button id="theme-toggle" class="theme-toggle" title="Toggle dark mode">🌙</button>
        </div>
    </div>
    
    <div class="info-banner">
        <span class="info-icon">ℹ️</span>
        <span class="info-text">Two AI agents will engage in a structured conversation with three phases: <strong>Introduction</strong> (agents introduce themselves), <strong>Conversation</strong> (configurable back-and-forth), and <strong>Conclusion</strong> (agents summarize).</span>
    </div>
    
    <div class="input-form">
        <div class="form-group">
            <label for="agent1-personality">Agent 1 Personality: <span class="char-hint">(min 3 characters)</span></label>
            <input type="text" id="agent1-personality" list="agent1-suggestions" placeholder="e.g., Logical analyst who values data and evidence" maxlength="500" />
            <datalist id="agent1-suggestions"></datalist>
        </div>
        
        <div class="form-group">
            <label for="agent2-personality">Agent 2 Personality: <span class="char-hint">(min 3 characters)</span></label>
            <input type="text" id="agent2-personality" list="agent2-suggestions" placeholder="e.g., Creative thinker who uses metaphors and storytelling" maxlength="500" />
            <datalist id="agent2-suggestions"></datalist>
        </div>
        
        <div class="form-group">
            <label for="topic">Conversation Topic: <span class="char-hint">(min 3 characters)</span></label>
            <input type="text" id="topic" list="topic-suggestions" placeholder="e.g., The future of artificial intelligence" maxlength="1000" />
            <datalist id="topic-suggestions"></datalist>
        </div>
        
        <div class="form-group politeness-control">
            <label for="politeness-slider">
                Agent Politeness Level: <span id="politeness-value">Medium</span>
                <span class="info-tooltip" title="Controls how nice agents are to each other. Low = direct/assertive, Medium = balanced, High = very courteous">ℹ️</span>
            </label>
            <div class="slider-container">
                <span class="slider-label">Direct</span>
                <input type="range" id="politeness-slider" min="0" max="2" value="1" step="1" />
                <span class="slider-label">Courteous</span>
            </div>
            <div class="politeness-description" id="politeness-description">
                Balanced tone - neither overly polite nor confrontational
            </div>
        </div>
        
        <div class="form-group conversation-length-control">
            <label for="conversation-length-slider">
                Conversation Length: <span id="conversation-length-value">3</span> exchanges
                <span class="info-tooltip" title="Number of back-and-forth exchanges in the conversation phase (excludes introduction and conclusion). Total messages: 4 + (length × 2)">ℹ️</span>
            </label>
            <div class="slider-container">
                <span class="slider-label">1</span>
                <input type="range" id="conversation-length-slider" min="1" max="10" value="3" step="1" />
                <span class="slider-label">10</span>
            </div>
            <div class="conversation-length-description" id="conversation-length-description">
                Total messages: 10 (2 intro + 6 conversation + 2 conclusion)
            </div>
        </div>
        
        <button id="start-button">Start Conversation</button>
        <div class="export-container">
            <button id="export-button" style="display: none;">Export Conversation</button>
            <div id="export-dropdown" class="export-dropdown" style="display: none;">
                <button id="export-json" class="export-option">JSON</button>
                <button id="export-md" class="export-option">Markdown</button>
                <button id="export-txt" class="export-option">Text</button>
                <button id="export-xml" class="export-option">XML</button>
            </div>
        </div>
    </div>
    
    <div id="conversation-container"></div>
</div>

<script src="~/js/conversation.js"></script>
